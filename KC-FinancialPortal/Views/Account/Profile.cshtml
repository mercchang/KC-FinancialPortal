@using KC_FinancialPortal.Models
@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Profile";
}

@{
    var db = new ApplicationDbContext();
    var user = db.Users.Find(User.Identity.GetUserId());
}

<div class="container-fluid">
    <div class="card shadow mb-4">
        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
            <h6 class="m-0 font-weight-bold text-primary">Profile</h6>
        </div>
        <!-- Card Body -->
        <div class="card-body">
            <div class="row-md-12">
                <h2><span>@user.FirstName</span> <span>@user.LastName</span></h2>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    @if (user != null && user.AvatarPath == null)
                    {
                        <img src="~/Avatars/default_user.png" alt="..." class="rounded-circle pr-1" width="100" />
                    }
                    else if (user != null)
                    {
                        <img src="@user.AvatarPath" alt="..." class="rounded-circle pr-1" width="50" />
                    }
                    <a href="~/Manage/EditProfile">Edit Profile</a>
                </div>
                <div class="col-md-6">
                    <ul style="list-style-type:none;">
                        <li>Username: @user.DisplayName</li>
                        <li>Email: @user.Email</li>
                        <li></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
